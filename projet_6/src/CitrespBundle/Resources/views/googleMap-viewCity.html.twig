{# src/CitrespBundle/Resources/views/googleMap-viewCity.html.twig #}

<script>
  var map;
  function initMap() {
    var city = {
      lat: {{ city.gpsLat }},
      lng: {{ city.gpsLng }}
    };
    var jsMarkers = new Array();

    map = new google.maps.Map(document.getElementById('map'), {
      zoom: 15,
      center: city
    });

    {% for reporting in reportings %}

      var marker = new google.maps.Marker({
        position: {
          lat: {{ reporting.gpsLat }},
          lng: {{ reporting.gpsLng }}
        },
        map: map
      });
    {% endfor %}

  }
</script>
<script src="https://maps.googleapis.com/maps/api/js?key={{googleApi}}&callback=initMap" async="async" defer="defer"></script>
