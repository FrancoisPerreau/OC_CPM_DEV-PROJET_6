{# src/CitrespBundle/Resources/views/googleMap-viewOneReporting.html.twig #}

<script>
  
  function initMap() {
    var city = {
      lat: {{ city.gpsLat }},
      lng: {{ city.gpsLng }}
    };

    var coorMarker = {
      lat: {{ reporting.gpsLat }},
      lng: {{ reporting.gpsLng }}
    };

    
    map = new google.maps.Map(document.getElementById('map'), {
      zoom: 20,
      center: coorMarker,
      streetViewControl: false,
      mapTypeControl: false,
      panControl: false
    });

    var img;
      if ({{ reporting.status.id }} == 4 ){
        img = "{{asset('theme/img/markers/marker_green.png')}}"
      } else if ({{ reporting.status.id }} == 3){
        img = "{{asset('theme/img/markers/marker_blue.png')}}"
      } else if ({{ reporting.status.id }} == 2){
        img = "{{asset('theme/img/markers/marker_orange.png')}}"
      } else {
        img = "{{asset('theme/img/markers/marker_red.png')}}"
      }

    var marker = new google.maps.Marker({position: coorMarker, icon: img, map: map});

  
  }
</script>
<script src="https://maps.googleapis.com/maps/api/js?key={{googleApi}}&callback=initMap" async="async" defer="defer"></script>
